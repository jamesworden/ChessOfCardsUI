<div class="flex justify-around relative rounded-md overflow-hidden shadow-lg">
  @if (playerGameView$ | async; as playerGameView) {
    <div class="flex">
      @if (initialPlaceMultipleCardAttempt) {
        <div
          class="absolute bg-black opacity-80 overflow-hidden"
          [ngStyle]="{
            'z-index': Z_INDEXES.PLACE_MULTIPLE_CARDS_OVERLAY,
            height: (cardSize$ | async)! * 7 + 'px',
            width: (cardSize$ | async)! * 5 + 'px'
          }"
        ></div>
      }

      <div
        class="flex"
        [ngClass]="{ 'flex-row-reverse': !playerGameView.IsHost }"
      >
        @for (
          lane of playerGameView.Lanes;
          track laneIndex;
          let laneIndex = $index
        ) {
          @if (initialPlaceMultipleCardAttempt?.TargetLaneIndex === laneIndex) {
            <game-place-multiple-cards-lane
              [isHost]="playerGameView.IsHost"
              [playerGameView]="playerGameView"
              [placeMultipleCardsHand]="placeMultipleCardsHand$ | async"
              [placeMultipleCards]="placeMultipleCards$ | async"
              [initialPlaceMultipleCardAttempt]="
                initialPlaceMultipleCardAttempt
              "
              (setPlaceMultipleCards)="placedMultipleCards($event)"
              (setPlaceMultipleCardsHand)="placedMultipleCardsHand($event)"
            ></game-place-multiple-cards-lane>
          } @else {
            <game-lane
              [lane]="lane"
              [laneIndex]="laneIndex"
              [isHost]="playerGameView.IsHost"
              [redJokerLaneIndex]="playerGameView.RedJokerLaneIndex"
              [blackJokerLaneIndex]="playerGameView.BlackJokerLaneIndex"
              [transparentTiles]="transparentTiles"
              [isPlayersTurn]="isPlayersTurn"
              (placeCardAttempted)="onPlaceCardAttempted($event)"
            ></game-lane>
          }
        }
      </div>
    </div>
  }
</div>
