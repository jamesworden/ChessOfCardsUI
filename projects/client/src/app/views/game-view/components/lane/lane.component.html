@if((lane$ | async); as lane) {
<div
  *ngIf="lane$ | async as lane"
  class="lane"
  [ngClass]="{ 'reverse-rows-vertically': !isHost }"
>
  @for(position of (positions$ | async); track i; let i = $index) {
  <app-position
    [transparentTile]="transparentTiles"
    [laneIndex]="laneIndex"
    [rowIndex]="position.rowIndex"
    [backgroundColor]="position.backgroundColor"
    [textColor]="position.textColor"
    [isHost]="isHost"
    (placeCardAttempted)="onPlaceCardAttempted($event)"
  >
    @if(position.topCard) {
    <app-card
      class="absolute z-10"
      [ngStyle]="{
        rotate: position.cardRotation + 'deg'
      }"
      [card]="position.topCard"
    ></app-card>
    } @if(position.rowIndex === 3) { @if (redJokerLaneIndex === laneIndex) {
    <app-joker-card class="absolute z-10" [isRedJoker]="true"></app-joker-card>
    } @if (blackJokerLaneIndex === laneIndex) {
    <app-joker-card class="absolute z-10" [isRedJoker]="false"></app-joker-card>
    } }
  </app-position>
  }
</div>

}
