<div
  class="h-full w-full min-w-screen bg-gray-200 dark:bg-gray-800 py-4 flex flex-col transition"
  [@fadeInOut]
>
  <div class="w-full px-4 flex justify-around">
    <div class="max-w-3xl w-full mx-auto">
      <nav class="flex justify-between">
        <h3 class="font-semibold cursor-pointer" (click)="navigateToHome()">
          Chess of Cards
        </h3>
        <ul class="list-none flex gap-x-8">
          <li
            class="opacity-50"
            matTooltip="Under Construction"
            matTooltipPosition="below"
          >
            Log In
          </li>
          <li
            class="opacity-50"
            matTooltip="Under Construction"
            matTooltipPosition="below"
          >
            Sign Up
          </li>
          <li>
            <span
              (click)="toggleDarkMode()"
              class="material-symbols-outlined px-2 select-none cursor-pointer flex dark:hidden"
            >
              dark_mode
            </span>
            <span
              (click)="toggleDarkMode()"
              class="material-symbols-outlined px-2 select-none hidden cursor-pointer dark:flex"
            >
              light_mode
            </span>
          </li>
        </ul>
      </nav>

      <hr class="border-solid border-1 border-black dark:border-white mt-24" />

      <section class="flex">
        <div class="flex-1 hidden md:block"></div>
        <div class="flex-1 py-12 flex flex-col">
          <h1 class="font-bold text-4xl">Chess of Cards</h1>
          <p class="mb-4">Fast paced, two player strategy game</p>
          <div>
            <button
              class="uppercase tracking-widest border border-black dark:border-white px-8 text-sm py-2 my-2"
              (click)="scrollToPlayNow()"
            >
              Play
            </button>
          </div>
        </div>
      </section>

      <section>
        <div class="flex flex-col mr-4">
          <div class="flex">
            <img src="../../../assets/images/home-page-illustration.png" />
            <div class="mt-3 bg-gray-800 pr-3"></div>
          </div>

          <div class="flex ml-3 h-3 w-full bg-gray-800"></div>
        </div>
      </section>

      <hr
        class="border-solid border-1 border-black dark:border-white my-12"
        id="play-now-section"
      />

      <section class="flex">
        <div class="flex-1 flex flex-col">
          <div class="mb-4">
            <h1 class="font-bold text-4xl">Play Now</h1>

            @if (!isConnectedToServer) {
              <p
                class="italic text-xs text-red-700 cursor-pointer dark:font-bold"
                (click)="reconnectToServer()"
              >
                Could not connect to server, click here to retry
              </p>
            }
          </div>

          <div class="flex flex-col md:flex-row gap-y-8">
            <div class="flex-1 flex flex-col">
              <p>Send this game code to your opponent:</p>
              <div class="mt-4">
                <div
                  class="py-2 px-4 bg-gray-300 border border-gray-400 dark:bg-gray-700 dark:border-gray-300 border-solid font-bold text-xl uppercase min-w-24 flex gap-x-1 w-36"
                  [ngClass]="{
                    'border-red-700': !isConnectedToServer
                  }"
                >
                  @if (gameCode$ | async; as gameCode) {
                    <div class="flex justify-around flex-col">
                      <span
                        matTooltip="Copy"
                        (click)="copyToClipboard(gameCode)"
                        class="material-symbols-outlined mr-2 cursor-pointer"
                        >content_copy</span
                      >
                    </div>
                    <span>{{ gameCode$ | async }}</span>
                  }
                </div>
              </div>
            </div>
            <div class="flex-1 flex flex-col">
              <p>Or enter your opponent's game code here:</p>

              @if (gameCodeIsInvalid$ | async) {
                <p class="italic text-xs text-red-700 dark:font-bold">
                  Invalid game code
                </p>
              }

              <div class="mt-4">
                <input
                  class="py-2 px-4 bg-gray-300 border border-gray-400 dark:bg-gray-700 dark:border-gray-300 border-solid font-bold text-xl w-36 outline-none uppercase"
                  [ngClass]="{
                    'border-red-700':
                      (gameCodeIsInvalid$ | async) || !isConnectedToServer
                  }"
                  type="text"
                  maxlength="4"
                  [disabled]="!isConnectedToServer"
                  [(ngModel)]="gameCodeInput"
                  (ngModelChange)="checkToJoinGame()"
                />
              </div>
            </div>
          </div>
        </div>
      </section>

      <hr class="border-solid border-1 border-black dark:border-white my-12" />
    </div>
  </div>
</div>

<app-footer></app-footer>
